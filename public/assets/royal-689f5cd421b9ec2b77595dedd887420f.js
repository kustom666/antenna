jQuery.noConflict(),jQuery(document).ready(function(){jQuery("img").removeBorder(),jQuery("#slider-container").royalContentSlider({transition:"slide",speed:400,easing:"easeInOutSine"}),jQuery(".content").royalImagePreloader(),jQuery("a[rel^='prettyPhoto']").royalAddOverlay(),jQuery("a[rel^='prettyPhoto']").prettyPhoto({social_tools:"",deeplinking:!1}),jQuery(".toggle, #wiki-topics > li, #faq li").royalToggle(),jQuery("select, :checkbox").royalFormReplacer(),jQuery("#nav").royalMenu(),jQuery(".box").royalClose(),jQuery(".login").royalLogin(),jQuery("#contact-form").royalContactForm(),jQuery("#pricing table").royalPricing(),jQuery("[placeholder]").royalInputPlaceholder(),jQuery().cssHelper()}),function(e){e.fn.removeBorder=function(){return this.each(function(){var t=e(this),i=t.parent("a");e(i).addClass("no-border")})}}(jQuery),function(e){e.fn.royalAddOverlay=function(){return this.each(function(){var t=e(this),i=e('<span class="image-overlay"></span>');t.addClass("image-parent").append(i)})}}(jQuery),function(e){e.fn.royalToggle=function(t){var i={animate:!0},a=e.extend(i,t);return this.each(function(){var t=e(this),i=e("a:first",t),n=e(".target:first, ul:first",t),o={init:function(){t.is(".current, .opened")?t.addClass("opened"):t.addClass("closed"),i.click(function(){return o.toggle(),!1})},toggle:function(){t.is(".opened")?1==a.animate?n.hide(300,function(){t.removeClass("opened").addClass("closed")}):t.removeClass("opened").addClass("closed"):1==a.animate?n.show(300,function(){t.removeClass("closed").addClass("opened")}):t.removeClass("closed").addClass("opened")}};o.init()})}}(jQuery),function(e){e.fn.royalClose=function(t){var i={speed:300};return e.extend(i,t),this.each(function(){var t=e(this),i=e('<span class="close"></span>').appendTo(t);i.click(function(){t.fadeOut(300)})})}}(jQuery),function(e){e.fn.royalPricing=function(t){var i={};return e.extend(i,t),this.each(function(){var t=e(this),i=e("td.highlight",t),a=e("tr",t),n=new Array(a.length);a.each(function(t){n[t]=e("td",this)}),t.hover(function(){},function(){i.addClass("highlight")}),e(n).each(function(t){var a=e(n[t]);a.each(function(){e(this).hover(function(){i.removeClass("highlight");var t=e.inArray(this,a);e(n).each(function(){hoveredColumn=this[t],e(hoveredColumn).addClass("highlight")})},function(){var t=e.inArray(this,a);e(n).each(function(){hoveredColumn=this[t],e(hoveredColumn).removeClass("highlight")})})})})})}}(jQuery),function(e){e.fn.royalLogin=function(t){var i={};return e.extend(i,t),this.each(function(){var t=e(this),i=e("a.login-link",t),a=e("form#login-form",t);i.click(function(){i.parents("ul").fadeOut(),a.fadeIn()})})}}(jQuery),function(e){e.fn.royalFormReplacer=function(t){var i={};return e.extend(i,t),this.each(function(){var t=e(this),i=t.parent("p","div"),a=e('<a class="replacer closed"></a>');if(i.append(a),a=e(".replacer",i),t.is("select")){var n,o=t,s=e("option",o),r=e('<ul class="replacer-options select-replacer-options closed"></ul>'),p=e('option[value=""]',o),l=e("option:selected",o),a=a.addClass("select-replacer"),s=s.not(p);o.actions={init:function(){o.addClass("hidden"),i.append(r),r=e(".replacer-options",i).css({width:a.outerWidth()-10}),l?a.html(l.html()):a.html(p.html()),o.actions.createOptionReplacers()},createOptionReplacers:function(){s.each(function(t){var i=e('<li class="replacer-option select-replacer-option"></li>'),a=e(this);r.append(i),i.html(a.html()),t+1==s.length&&o.actions.assignControls()})},assignControls:function(){a.click(function(){r.is(".opened")?o.actions.close():o.actions.open()});var t=e("li.replacer-option",r);t.click(function(){var i=this,n=e.inArray(i,t);s.removeAttr("selected"),e(s[n]).attr("selected","selected"),a.html(e(i).html()),o.actions.close()}),a.parent("p").hover(function(){clearTimeout(n)},function(){n=setTimeout(function(){o.actions.close()},200)})},close:function(){a.removeClass("opened").addClass("closed"),r.removeClass("opened").fadeOut(200,"easeInExpo",function(){r.addClass("closed")})},open:function(){a.removeClass("closed").addClass("opened"),r.addClass("opened").fadeIn(200,"easeOutExpo",function(){r.removeClass("closed")})}},o.actions.init()}else if(t.is(":checkbox")){var c=t,a=a.addClass("checkbox-replacer");c.actions={init:function(){c.addClass("hidden"),c.is(":checked")&&a.addClass("checked"),c.actions.assignControls()},assignControls:function(){a.click(function(){return c.is(":checked")?(c.actions.uncheck(),!1):(c.actions.check(),!1)}),e("label",i).click(function(){return c.is(":checked")?(c.actions.uncheck(),!1):(c.actions.check(),!1)}),e("label",i).mousedown(function(){a.addClass("active")}),e("label",i).mouseup(function(){a.removeClass("active")}),e("label",i).hover(function(){a.addClass("hover")},function(){a.removeClass("hover")})},check:function(){a.addClass("checked"),c.attr("checked","checked")},uncheck:function(){a.removeClass("checked"),c.removeAttr("checked")}},c.actions.init()}})}}(jQuery),function(e){e.fn.royalMenu=function(t){var i={};return e.extend(i,t),this.each(function(){var t=e(this),i=e("li",t);i.each(function(){var i=e(this),a=i.children("ul");t.parent("nav").is(".dropdown")?i.hover(function(){a.css({"z-index":120}).fadeIn(400,"easeOutExpo")},function(){a.css({"z-index":110}).fadeOut(250,"easeInExpo")}):t.parent("nav").is(".compact")&&i.hover(function(){a.css({"z-index":120}).fadeIn(300)},function(){a.css({"z-index":110}).fadeOut(300)})})})}}(jQuery),function(e){e.fn.royalContentSlider=function(t){var i={showSpeed:350,showTimeout:0,speed:500,easing:"",autoplayTimeout:5e3,transition:"slide",smartDelay:200},a=e.extend(i,t);return this.each(function(){var t,i=e(this),n=e(".slider",i),o=!1,s=e("img",n),r=e(".prev",i.parent()),p=i.parent().find(".next"),l=e(".slide",n),c=n.width(),d=e(l[0]),h=d.outerHeight(!0),u=l.length*c,f=0,g="",m="";i.parent().parent().hover(function(){t=!0},function(){t=!1}),n.methods={checkImages:function(){return s.length?!0:!1},preload:function(){1==n.methods.checkImages()?i.royalImagePreloader({onDone:n.methods.showSlider,autoShowHide:!1}):n.methods.showSlider(!1)},showSlider:function(t){0!=t&&0==o?(o=!0,setTimeout(function(){i.removeClass("loading"),e(l[0]).css({visibility:"visible"}),n.css({opacity:"0",visibility:"visible"}).animate({opacity:1},a.showSpeed,function(){n.fixTextFilter(),n.methods.init()})},a.showTimeout)):0==t&&n.methods.init()},init:function(){i.css({height:h,position:"relative",overflow:"hidden"}),"fade"!=a.transition?(n.css({width:u,position:"absolute",left:"0"}),l.each(function(){var t=e.inArray(this,l),i=t*c;e(this).css({position:"absolute",display:"block",top:"0",left:i,visibility:"visible"})})):(n.css({position:"relative"}),slidesToHide=l,slidesToHide.not(l[0]).each(function(){e(this).css({position:"absolute",display:"block",top:"0",left:"0",opacity:"0","z-index":"0",visibility:"visible"})}),e(l[0]).css({position:"absolute",display:"block",top:"0",left:"0",opacity:"1","z-index":"10",visibility:"visible"}).fixTextFilter()),p.click(function(e){n.methods.slide(e.target)}),r.click(function(e){n.methods.slide(e.target)}),n.is(".autoplay")&&n.methods.autoplay()},slide:function(t){var o=f;if((e(t).is(".next")||"auto"==t)&&f++,e(t).is(".prev")&&(0==f?f=l.length-1:f--),f==l.length&&(f=0),m=f*c,g=e(l[f]).outerHeight(!0),"slide"==a.transition)n.animate({left:-m},a.speed,a.easing),i.animate({height:g},a.speed,a.easing);else if("none"==a.transition)n.css({left:-m}),i.css({height:g});else if("fade"==a.transition){var s=e(l[o]).outerHeight(!0);g>s?(i.animate({height:g},a.speed,a.easing),setTimeout(function(){e(l[f]).css({opacity:"0","z-index":"10"}).animate({opacity:1},a.speed,a.easing,function(){e(l[f]).fixTextFilter()}),e(l[o]).css({"z-index":"0"}).animate({opacity:0},a.speed,a.easing)},a.smartDelay)):(e(l[f]).css({opacity:"0","z-index":"10"}).animate({opacity:1},a.speed,a.easing,function(){e(l[f]).fixTextFilter()}),e(l[o]).css({"z-index":"0"}).animate({opacity:0},a.speed,a.easing),setTimeout(function(){i.animate({height:g},a.speed,a.easing)},a.smartDelay))}},autoplay:function(){var e=setInterval(function(){1!=t&&n.methods.slide("auto")},a.autoplayTimeout);i.parent().parent().hover(function(){clearInterval(e),e=0},function(){clearInterval(e),e=0,e=setInterval(function(){n.methods.slide("auto")},a.autoplayTimeout)})}},n.methods.preload()})}}(jQuery),function(e){e.fn.royalImagePreloader=function(t){var i={onDone:"",onLoadError:function(){},speed:300,easing:"easeInOutQuad",delay:100,interval:200,parent:"a",autoShowHide:!0},a=e.extend(i,t);return this.each(function(){var t=e(this),i=e("img",t),n=0,o=!1;if(!i.length)return!1;t.addClass("loading"),1==a.autoShowHide&&i.css({opacity:"0",visibility:"hidden"}).each(function(){var t=e(this),i=t.parent(a.parent),n=t.css("display");i.length?i.addClass("loading"):(t.wrap('<a class="loading placeholder"/>'),i=t.parent("a")),i.css({display:n})});var s=setInterval(function(){r()},a.interval),r=function(){i=i.filter(function(){var i=e(this),s=i.parent();return this.onerror=function(){o=!0},1==o?(1==a.autoShowHide&&(i.css({visibility:"visible",opacity:"1"}),s.is(".placeholder")?i.unwrap():s.removeClass("loading").removeAttr("style"),i.attr("style","").removeAttr("style")),a.onLoadError(i),null):this.complete&&0!==this.naturalWidth?(1==a.autoShowHide&&(n+=a.delay,s.css({"background-image":"none"}),i.css({visibility:"visible"}).delay(n).animate({opacity:1},a.speed,a.easing,function(){s.is(".placeholder")&&i.unwrap(),t.removeClass("loading"),s.removeClass("loading").removeAttr("style"),i.attr("style","").removeAttr("style")})),void 0):this}),0==i.length&&(clearInterval(s),a.onDone instanceof Function&&a.onDone.call(this))}})}}(jQuery),function(e){e.fn.royalContactForm=function(){return this.each(function(){var t=e(this),i=e("#submit",t),a=(t.attr("action"),e('<span id="response"></span>'));t.append(a),t.addClass("waiting").removeClass("waiting"),i.click(function(){if(!t.is(".sent")){var n=e("input#author",t).val(),o=e("input#email",t).val(),s=e("input#subject",t).val(),r=e("textarea#message",t).val();t.addClass("waiting"),jQuery.ajax({type:"post",url:"sendEmail.php",data:"author="+n+"&email="+o+"&subject="+s+"&message="+r,success:function(e){a.html(e);var n=a.find(".success");n.is(".success")?(t.removeClass("waiting").addClass("sent"),i.val("Sent").parent().css({opacity:".7"})):t.removeClass("waiting")}})}return!1})})}}(jQuery),function(e){e.fn.royalInputPlaceholder=function(){return this.each(function(){var t=e(this),i=t.parents("form");t.focus(function(){t.val()==t.attr("placeholder")&&(t.val(""),t.removeClass("placeholder"))}).blur(function(){(""==t.val()||t.val()==t.attr("placeholder"))&&(t.addClass("placeholder"),t.val(t.attr("placeholder")))}).blur(),i.submit(function(){t.val()==t.attr("placeholder")&&t.val("")})})}}(jQuery),function(e){e.fn.cssHelper=function(){var t=function(){i.fixSearchFocus(),i.fixFormSubmit()},i={fixSearchFocus:function(){var t=e("#s"),i=t.parents("form");t.focus(function(){i.addClass("focus")}),t.blur(function(){i.removeClass("focus")})},fixFormSubmit:function(){var t=e("form");t.each(function(){var t=e(this),i=e("#submit",t),a=e("p.button",t);a.click(function(){i[0].click()})})}};t()}}(jQuery),function(e){e.fn.fixTextFilter=function(){}}(jQuery),/*
 * jQuery Easing v1.3 - http://gsgd.co.uk/sandbox/jquery/easing/
 *
 * Uses the built in easing capabilities added In jQuery 1.1
 * to offer multiple easing options
 *
 * TERMS OF USE - jQuery Easing
 * 
 * Open source under the BSD License. 
 * 
 * Copyright © 2008 George McGinley Smith
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification, 
 * are permitted provided that the following conditions are met:
 * 
 * Redistributions of source code must retain the above copyright notice, this list of 
 * conditions and the following disclaimer.
 * Redistributions in binary form must reproduce the above copyright notice, this list 
 * of conditions and the following disclaimer in the documentation and/or other materials 
 * provided with the distribution.
 * 
 * Neither the name of the author nor the names of contributors may be used to endorse 
 * or promote products derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY 
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
 *  COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 *  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
 *  GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED 
 * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 *  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED 
 * OF THE POSSIBILITY OF SUCH DAMAGE. 
 *
*/
jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,i,a,n){return jQuery.easing[jQuery.easing.def](e,t,i,a,n)},easeInQuad:function(e,t,i,a,n){return a*(t/=n)*t+i},easeOutQuad:function(e,t,i,a,n){return-a*(t/=n)*(t-2)+i},easeInOutQuad:function(e,t,i,a,n){return 1>(t/=n/2)?a/2*t*t+i:-a/2*(--t*(t-2)-1)+i},easeInCubic:function(e,t,i,a,n){return a*(t/=n)*t*t+i},easeOutCubic:function(e,t,i,a,n){return a*((t=t/n-1)*t*t+1)+i},easeInOutCubic:function(e,t,i,a,n){return 1>(t/=n/2)?a/2*t*t*t+i:a/2*((t-=2)*t*t+2)+i},easeInQuart:function(e,t,i,a,n){return a*(t/=n)*t*t*t+i},easeOutQuart:function(e,t,i,a,n){return-a*((t=t/n-1)*t*t*t-1)+i},easeInOutQuart:function(e,t,i,a,n){return 1>(t/=n/2)?a/2*t*t*t*t+i:-a/2*((t-=2)*t*t*t-2)+i},easeInQuint:function(e,t,i,a,n){return a*(t/=n)*t*t*t*t+i},easeOutQuint:function(e,t,i,a,n){return a*((t=t/n-1)*t*t*t*t+1)+i},easeInOutQuint:function(e,t,i,a,n){return 1>(t/=n/2)?a/2*t*t*t*t*t+i:a/2*((t-=2)*t*t*t*t+2)+i},easeInSine:function(e,t,i,a,n){return-a*Math.cos(t/n*(Math.PI/2))+a+i},easeOutSine:function(e,t,i,a,n){return a*Math.sin(t/n*(Math.PI/2))+i},easeInOutSine:function(e,t,i,a,n){return-a/2*(Math.cos(Math.PI*t/n)-1)+i},easeInExpo:function(e,t,i,a,n){return 0==t?i:a*Math.pow(2,10*(t/n-1))+i},easeOutExpo:function(e,t,i,a,n){return t==n?i+a:a*(-Math.pow(2,-10*t/n)+1)+i},easeInOutExpo:function(e,t,i,a,n){return 0==t?i:t==n?i+a:1>(t/=n/2)?a/2*Math.pow(2,10*(t-1))+i:a/2*(-Math.pow(2,-10*--t)+2)+i},easeInCirc:function(e,t,i,a,n){return-a*(Math.sqrt(1-(t/=n)*t)-1)+i},easeOutCirc:function(e,t,i,a,n){return a*Math.sqrt(1-(t=t/n-1)*t)+i},easeInOutCirc:function(e,t,i,a,n){return 1>(t/=n/2)?-a/2*(Math.sqrt(1-t*t)-1)+i:a/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInElastic:function(e,t,i,a,n){var o=1.70158,s=0,r=a;if(0==t)return i;if(1==(t/=n))return i+a;if(s||(s=.3*n),Math.abs(a)>r){r=a;var o=s/4}else var o=s/(2*Math.PI)*Math.asin(a/r);return-(r*Math.pow(2,10*(t-=1))*Math.sin((t*n-o)*2*Math.PI/s))+i},easeOutElastic:function(e,t,i,a,n){var o=1.70158,s=0,r=a;if(0==t)return i;if(1==(t/=n))return i+a;if(s||(s=.3*n),Math.abs(a)>r){r=a;var o=s/4}else var o=s/(2*Math.PI)*Math.asin(a/r);return r*Math.pow(2,-10*t)*Math.sin((t*n-o)*2*Math.PI/s)+a+i},easeInOutElastic:function(e,t,i,a,n){var o=1.70158,s=0,r=a;if(0==t)return i;if(2==(t/=n/2))return i+a;if(s||(s=n*.3*1.5),Math.abs(a)>r){r=a;var o=s/4}else var o=s/(2*Math.PI)*Math.asin(a/r);return 1>t?-.5*r*Math.pow(2,10*(t-=1))*Math.sin((t*n-o)*2*Math.PI/s)+i:.5*r*Math.pow(2,-10*(t-=1))*Math.sin((t*n-o)*2*Math.PI/s)+a+i},easeInBack:function(e,t,i,a,n,o){return void 0==o&&(o=1.70158),a*(t/=n)*t*((o+1)*t-o)+i},easeOutBack:function(e,t,i,a,n,o){return void 0==o&&(o=1.70158),a*((t=t/n-1)*t*((o+1)*t+o)+1)+i},easeInOutBack:function(e,t,i,a,n,o){return void 0==o&&(o=1.70158),1>(t/=n/2)?a/2*t*t*(((o*=1.525)+1)*t-o)+i:a/2*((t-=2)*t*(((o*=1.525)+1)*t+o)+2)+i},easeInBounce:function(e,t,i,a,n){return a-jQuery.easing.easeOutBounce(e,n-t,0,a,n)+i},easeOutBounce:function(e,t,i,a,n){return 1/2.75>(t/=n)?a*7.5625*t*t+i:2/2.75>t?a*(7.5625*(t-=1.5/2.75)*t+.75)+i:2.5/2.75>t?a*(7.5625*(t-=2.25/2.75)*t+.9375)+i:a*(7.5625*(t-=2.625/2.75)*t+.984375)+i},easeInOutBounce:function(e,t,i,a,n){return n/2>t?.5*jQuery.easing.easeInBounce(e,2*t,0,a,n)+i:.5*jQuery.easing.easeOutBounce(e,2*t-n,0,a,n)+.5*a+i}}),/*
 *
 * TERMS OF USE - EASING EQUATIONS
 * 
 * Open source under the BSD License. 
 * 
 * Copyright © 2001 Robert Penner
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification, 
 * are permitted provided that the following conditions are met:
 * 
 * Redistributions of source code must retain the above copyright notice, this list of 
 * conditions and the following disclaimer.
 * Redistributions in binary form must reproduce the above copyright notice, this list 
 * of conditions and the following disclaimer in the documentation and/or other materials 
 * provided with the distribution.
 * 
 * Neither the name of the author nor the names of contributors may be used to endorse 
 * or promote products derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY 
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
 *  COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 *  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
 *  GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED 
 * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 *  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED 
 * OF THE POSSIBILITY OF SUCH DAMAGE. 
 *
 */
function(e){function t(){return url=location.href,hashtag=-1!=url.indexOf("#!")?decodeURI(url.substring(url.indexOf("#!")+2,url.length)):!1}function i(){"undefined"!=typeof theRel&&(location.hash="!"+theRel+"/"+rel_index+"/")}function a(e,t){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i="[\\?&]"+e+"=([^&#]*)",a=new RegExp(i),n=a.exec(t);return null==n?"":n[1]}e.prettyPhoto={version:"3.1.2"},e.fn.prettyPhoto=function(n){function o(){e(".pp_loaderIcon").hide(),projectedTop=scroll_pos.scrollTop+(I/2-m.containerHeight/2),0>projectedTop&&(projectedTop=0),$ppt.fadeTo(settings.animation_speed,1),$pp_pic_holder.find(".pp_content").animate({height:m.contentHeight,width:m.contentWidth},settings.animation_speed),$pp_pic_holder.animate({top:projectedTop,left:C/2-m.containerWidth/2,width:m.containerWidth},settings.animation_speed,function(){$pp_pic_holder.find(".pp_hoverContainer,#fullResImage").height(m.height).width(m.width),$pp_pic_holder.find(".pp_fade").fadeIn(settings.animation_speed),isSet&&"image"==c(pp_images[set_position])?$pp_pic_holder.find(".pp_hoverContainer").show():$pp_pic_holder.find(".pp_hoverContainer").hide(),m.resized?e("a.pp_expand,a.pp_contract").show():e("a.pp_expand").hide(),!settings.autoplay_slideshow||k||_||e.prettyPhoto.startSlideshow(),settings.deeplinking&&i(),settings.changepicturecallback(),_=!0}),f()}function s(t){$pp_pic_holder.find("#pp_full_res object,#pp_full_res embed").css("visibility","hidden"),$pp_pic_holder.find(".pp_fade").fadeOut(settings.animation_speed,function(){e(".pp_loaderIcon").show(),t()})}function r(t){t>1?e(".pp_nav").show():e(".pp_nav").hide()}function p(e,t){if(resized=!1,l(e,t),imageWidth=e,imageHeight=t,(b>C||w>I)&&doresize&&settings.allow_resize&&!P){for(resized=!0,fitting=!1;!fitting;)b>C?(imageWidth=C-200,imageHeight=t/e*imageWidth):w>I?(imageHeight=I-200,imageWidth=e/t*imageHeight):fitting=!0,w=imageHeight,b=imageWidth;l(imageWidth,imageHeight),(b>C||w>I)&&p(b,w)}return{width:Math.floor(imageWidth),height:Math.floor(imageHeight),containerHeight:Math.floor(w),containerWidth:Math.floor(b)+2*settings.horizontal_padding,contentHeight:Math.floor(v),contentWidth:Math.floor(y),resized:resized}}function l(t,i){t=parseFloat(t),i=parseFloat(i),$pp_details=$pp_pic_holder.find(".pp_details"),$pp_details.width(t),detailsHeight=parseFloat($pp_details.css("marginTop"))+parseFloat($pp_details.css("marginBottom")),$pp_details=$pp_details.clone().addClass(settings.theme).width(t).appendTo(e("body")).css({position:"absolute",top:-1e4}),detailsHeight+=$pp_details.height(),detailsHeight=34>=detailsHeight?36:detailsHeight,e.browser.msie&&7==e.browser.version&&(detailsHeight+=8),$pp_details.remove(),$pp_title=$pp_pic_holder.find(".ppt"),$pp_title.width(t),titleHeight=parseFloat($pp_title.css("marginTop"))+parseFloat($pp_title.css("marginBottom")),$pp_title=$pp_title.clone().appendTo(e("body")).css({position:"absolute",top:-1e4}),titleHeight+=$pp_title.height(),$pp_title.remove(),v=i+detailsHeight,y=t,w=v+titleHeight+$pp_pic_holder.find(".pp_top").height()+$pp_pic_holder.find(".pp_bottom").height(),b=t}function c(e){return e.match(/youtube\.com\/watch/i)?"youtube":e.match(/vimeo\.com/i)?"vimeo":e.match(/\b.mov\b/i)?"quicktime":e.match(/\b.swf\b/i)?"flash":e.match(/\biframe=true\b/i)?"iframe":e.match(/\bajax=true\b/i)?"ajax":e.match(/\bcustom=true\b/i)?"custom":"#"==e.substr(0,1)?"inline":"image"}function d(){if(doresize&&"undefined"!=typeof $pp_pic_holder){if(scroll_pos=h(),contentHeight=$pp_pic_holder.height(),contentwidth=$pp_pic_holder.width(),projectedTop=I/2+scroll_pos.scrollTop-contentHeight/2,0>projectedTop&&(projectedTop=0),contentHeight>I)return;$pp_pic_holder.css({top:projectedTop,left:C/2+scroll_pos.scrollLeft-contentwidth/2})}}function h(){return self.pageYOffset?{scrollTop:self.pageYOffset,scrollLeft:self.pageXOffset}:document.documentElement&&document.documentElement.scrollTop?{scrollTop:document.documentElement.scrollTop,scrollLeft:document.documentElement.scrollLeft}:document.body?{scrollTop:document.body.scrollTop,scrollLeft:document.body.scrollLeft}:void 0}function u(){I=e(window).height(),C=e(window).width(),"undefined"!=typeof $pp_overlay&&$pp_overlay.height(e(document).height()).width(C)}function f(){isSet&&settings.overlay_gallery&&"image"==c(pp_images[set_position])&&settings.ie6_fallback&&(!e.browser.msie||6!=parseInt(e.browser.version))?(itemWidth=57,navWidth="facebook"==settings.theme||"pp_default"==settings.theme?50:30,itemsPerPage=Math.floor((m.containerWidth-100-navWidth)/itemWidth),itemsPerPage=pp_images.length>itemsPerPage?itemsPerPage:pp_images.length,totalPage=Math.ceil(pp_images.length/itemsPerPage)-1,0==totalPage?(navWidth=0,$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").hide()):$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").show(),galleryWidth=itemsPerPage*itemWidth,fullGalleryWidth=pp_images.length*itemWidth,$pp_gallery.css("margin-left",-(galleryWidth/2+navWidth/2)).find("div:first").width(galleryWidth+5).find("ul").width(fullGalleryWidth).find("li.selected").removeClass("selected"),goToPage=totalPage>Math.floor(set_position/itemsPerPage)?Math.floor(set_position/itemsPerPage):totalPage,e.prettyPhoto.changeGalleryPage(goToPage),$pp_gallery_li.filter(":eq("+set_position+")").addClass("selected")):$pp_pic_holder.find(".pp_content").unbind("mouseenter mouseleave")}function g(){if(settings.markup=settings.markup.replace("{pp_social}",settings.social_tools?settings.social_tools:""),e("body").append(settings.markup),$pp_pic_holder=e(".pp_pic_holder"),$ppt=e(".ppt"),$pp_overlay=e("div.pp_overlay"),isSet&&settings.overlay_gallery){currentGalleryPage=0,toInject="";for(var t=0;pp_images.length>t;t++)pp_images[t].match(/\b(jpg|jpeg|png|gif)\b/gi)?(classname="",img_src=pp_images[t]):(classname="default",img_src=""),toInject+="<li class='"+classname+"'><a href='#'><img src='"+img_src+"' width='50' alt='' /></a></li>";toInject=settings.gallery_markup.replace(/{gallery}/g,toInject),$pp_pic_holder.find("#pp_full_res").after(toInject),$pp_gallery=e(".pp_pic_holder .pp_gallery"),$pp_gallery_li=$pp_gallery.find("li"),$pp_gallery.find(".pp_arrow_next").click(function(){return e.prettyPhoto.changeGalleryPage("next"),e.prettyPhoto.stopSlideshow(),!1}),$pp_gallery.find(".pp_arrow_previous").click(function(){return e.prettyPhoto.changeGalleryPage("previous"),e.prettyPhoto.stopSlideshow(),!1}),$pp_pic_holder.find(".pp_content").hover(function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeIn()},function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeOut()}),itemWidth=57,$pp_gallery_li.each(function(t){e(this).find("a").click(function(){return e.prettyPhoto.changePage(t),e.prettyPhoto.stopSlideshow(),!1})})}settings.slideshow&&($pp_pic_holder.find(".pp_nav").prepend('<a href="#" class="pp_play">Play</a>'),$pp_pic_holder.find(".pp_nav .pp_play").click(function(){return e.prettyPhoto.startSlideshow(),!1})),$pp_pic_holder.attr("class","pp_pic_holder "+settings.theme),$pp_overlay.css({opacity:0,height:e(document).height(),width:e(window).width()}).bind("click",function(){settings.modal||e.prettyPhoto.close()}),e("a.pp_close").bind("click",function(){return e.prettyPhoto.close(),!1}),e("a.pp_expand").bind("click",function(){return e(this).hasClass("pp_expand")?(e(this).removeClass("pp_expand").addClass("pp_contract"),doresize=!1):(e(this).removeClass("pp_contract").addClass("pp_expand"),doresize=!0),s(function(){e.prettyPhoto.open()}),!1}),$pp_pic_holder.find(".pp_previous, .pp_nav .pp_arrow_previous").bind("click",function(){return e.prettyPhoto.changePage("previous"),e.prettyPhoto.stopSlideshow(),!1}),$pp_pic_holder.find(".pp_next, .pp_nav .pp_arrow_next").bind("click",function(){return e.prettyPhoto.changePage("next"),e.prettyPhoto.stopSlideshow(),!1}),d()}n=jQuery.extend({animation_speed:"fast",slideshow:5e3,autoplay_slideshow:!1,opacity:.8,show_title:!0,allow_resize:!0,default_width:500,default_height:344,counter_separator_label:"/",theme:"pp_default",horizontal_padding:20,hideflash:!1,wmode:"opaque",autoplay:!0,modal:!1,deeplinking:!0,overlay_gallery:!0,keyboard_shortcuts:!0,changepicturecallback:function(){},callback:function(){},ie6_fallback:!0,markup:'<div class="pp_pic_holder"><div class="ppt">&nbsp;</div><div class="pp_top"><div class="pp_left"></div><div class="pp_middle"></div><div class="pp_right"></div></div><div class="pp_content_container"><div class="pp_left"><div class="pp_right"><div class="pp_content"><div class="pp_loaderIcon"></div><div class="pp_fade"><a href="#" class="pp_expand" title="Expand the image">Expand</a><div class="pp_hoverContainer"><a class="pp_next" href="#">next</a><a class="pp_previous" href="#">previous</a></div><div id="pp_full_res"></div><div class="pp_details"><div class="pp_nav"><a href="#" class="pp_arrow_previous">Previous</a><p class="currentTextHolder">0/0</p><a href="#" class="pp_arrow_next">Next</a></div><p class="pp_description"></p>{pp_social}<a class="pp_close" href="#">Close</a></div></div></div></div></div></div><div class="pp_bottom"><div class="pp_left"></div><div class="pp_middle"></div><div class="pp_right"></div></div></div><div class="pp_overlay"></div>',gallery_markup:'<div class="pp_gallery"><a href="#" class="pp_arrow_previous">Previous</a><div><ul>{gallery}</ul></div><a href="#" class="pp_arrow_next">Next</a></div>',image_markup:'<img id="fullResImage" src="{path}" />',flash_markup:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="{width}" height="{height}"><param name="wmode" value="{wmode}" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{path}" /><embed src="{path}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="{width}" height="{height}" wmode="{wmode}"></embed></object>',quicktime_markup:'<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" codebase="http://www.apple.com/qtactivex/qtplugin.cab" height="{height}" width="{width}"><param name="src" value="{path}"><param name="autoplay" value="{autoplay}"><param name="type" value="video/quicktime"><embed src="{path}" height="{height}" width="{width}" autoplay="{autoplay}" type="video/quicktime" pluginspage="http://www.apple.com/quicktime/download/"></embed></object>',iframe_markup:'<iframe src ="{path}" width="{width}" height="{height}" frameborder="no"></iframe>',inline_markup:'<div class="pp_inline">{content}</div>',custom_markup:"",social_tools:'<div class="pp_social"><div class="twitter"><a href="http://twitter.com/share" class="twitter-share-button" data-count="none">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script></div><div class="facebook"><iframe src="http://www.facebook.com/plugins/like.php?locale=en_US&href='+location.href+'&amp;layout=button_count&amp;show_faces=true&amp;width=500&amp;action=like&amp;font&amp;colorscheme=light&amp;height=23" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:500px; height:23px;" allowTransparency="true"></iframe></div></div>'},n);var m,_,v,y,w,b,k,x=this,P=!1,I=e(window).height(),C=e(window).width();return doresize=!0,scroll_pos=h(),e(window).unbind("resize.prettyphoto").bind("resize.prettyphoto",function(){d(),u()}),n.keyboard_shortcuts&&e(document).unbind("keydown.prettyphoto").bind("keydown.prettyphoto",function(t){if("undefined"!=typeof $pp_pic_holder&&$pp_pic_holder.is(":visible"))switch(t.keyCode){case 37:e.prettyPhoto.changePage("previous"),t.preventDefault();break;case 39:e.prettyPhoto.changePage("next"),t.preventDefault();break;case 27:settings.modal||e.prettyPhoto.close(),t.preventDefault()}}),e.prettyPhoto.initialize=function(){return settings=n,"pp_default"==settings.theme&&(settings.horizontal_padding=16),settings.ie6_fallback&&e.browser.msie&&6==parseInt(e.browser.version)&&(settings.theme="light_square"),theRel=e(this).attr("rel"),galleryRegExp=/\[(?:.*)\]/,isSet=galleryRegExp.exec(theRel)?!0:!1,pp_images=isSet?jQuery.map(x,function(t){return-1!=e(t).attr("rel").indexOf(theRel)?e(t).attr("href"):void 0}):e.makeArray(e(this).attr("href")),pp_titles=isSet?jQuery.map(x,function(t){return-1!=e(t).attr("rel").indexOf(theRel)?e(t).find("img").attr("alt")?e(t).find("img").attr("alt"):"":void 0}):e.makeArray(e(this).find("img").attr("alt")),pp_descriptions=isSet?jQuery.map(x,function(t){return-1!=e(t).attr("rel").indexOf(theRel)?e(t).attr("title")?e(t).attr("title"):"":void 0}):e.makeArray(e(this).attr("title")),set_position=jQuery.inArray(e(this).attr("href"),pp_images),rel_index=isSet?set_position:e("a[rel^='"+theRel+"']").index(e(this)),g(this),settings.allow_resize&&e(window).bind("scroll.prettyphoto",function(){d()}),e.prettyPhoto.open(),!1},e.prettyPhoto.open=function(t){return"undefined"==typeof settings&&(settings=n,e.browser.msie&&6==e.browser.version&&(settings.theme="light_square"),pp_images=e.makeArray(arguments[0]),pp_titles=arguments[1]?e.makeArray(arguments[1]):e.makeArray(""),pp_descriptions=arguments[2]?e.makeArray(arguments[2]):e.makeArray(""),isSet=pp_images.length>1?!0:!1,set_position=0,g(t.target)),e.browser.msie&&6==e.browser.version&&e("select").css("visibility","hidden"),settings.hideflash&&e("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","hidden"),r(e(pp_images).size()),e(".pp_loaderIcon").show(),$ppt.is(":hidden")&&$ppt.css("opacity",0).show(),$pp_overlay.show().fadeTo(settings.animation_speed,settings.opacity),$pp_pic_holder.find(".currentTextHolder").text(set_position+1+settings.counter_separator_label+e(pp_images).size()),""!=pp_descriptions[set_position]?$pp_pic_holder.find(".pp_description").show().html(unescape(pp_descriptions[set_position])):$pp_pic_holder.find(".pp_description").hide(),movie_width=parseFloat(a("width",pp_images[set_position]))?a("width",pp_images[set_position]):settings.default_width.toString(),movie_height=parseFloat(a("height",pp_images[set_position]))?a("height",pp_images[set_position]):settings.default_height.toString(),P=!1,-1!=movie_height.indexOf("%")&&(movie_height=parseFloat(e(window).height()*parseFloat(movie_height)/100-150),P=!0),-1!=movie_width.indexOf("%")&&(movie_width=parseFloat(e(window).width()*parseFloat(movie_width)/100-150),P=!0),$pp_pic_holder.fadeIn(function(){switch(settings.show_title&&""!=pp_titles[set_position]&&"undefined"!=typeof pp_titles[set_position]?$ppt.html(unescape(pp_titles[set_position])):$ppt.html("&nbsp;"),imgPreloader="",skipInjection=!1,c(pp_images[set_position])){case"image":imgPreloader=new Image,nextImage=new Image,isSet&&e(pp_images).size()-1>set_position&&(nextImage.src=pp_images[set_position+1]),prevImage=new Image,isSet&&pp_images[set_position-1]&&(prevImage.src=pp_images[set_position-1]),$pp_pic_holder.find("#pp_full_res")[0].innerHTML=settings.image_markup.replace(/{path}/g,pp_images[set_position]),imgPreloader.onload=function(){m=p(imgPreloader.width,imgPreloader.height),o()},imgPreloader.onerror=function(){alert("Image cannot be loaded. Make sure the path is correct and image exist."),e.prettyPhoto.close()},imgPreloader.src=pp_images[set_position];break;case"youtube":m=p(movie_width,movie_height),movie="http://www.youtube.com/embed/"+a("v",pp_images[set_position]),movie+=a("rel",pp_images[set_position])?"?rel="+a("rel",pp_images[set_position]):"?rel=1",settings.autoplay&&(movie+="&autoplay=1"),toInject=settings.iframe_markup.replace(/{width}/g,m.width).replace(/{height}/g,m.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,movie);break;case"vimeo":m=p(movie_width,movie_height),movie_id=pp_images[set_position];var t=/http:\/\/(www\.)?vimeo.com\/(\d+)/,i=movie_id.match(t);movie="http://player.vimeo.com/video/"+i[2]+"?title=0&amp;byline=0&amp;portrait=0",settings.autoplay&&(movie+="&autoplay=1;"),vimeo_width=m.width+"/embed/?moog_width="+m.width,toInject=settings.iframe_markup.replace(/{width}/g,vimeo_width).replace(/{height}/g,m.height).replace(/{path}/g,movie);break;case"quicktime":m=p(movie_width,movie_height),m.height+=15,m.contentHeight+=15,m.containerHeight+=15,toInject=settings.quicktime_markup.replace(/{width}/g,m.width).replace(/{height}/g,m.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,pp_images[set_position]).replace(/{autoplay}/g,settings.autoplay);break;case"flash":m=p(movie_width,movie_height),flash_vars=pp_images[set_position],flash_vars=flash_vars.substring(pp_images[set_position].indexOf("flashvars")+10,pp_images[set_position].length),filename=pp_images[set_position],filename=filename.substring(0,filename.indexOf("?")),toInject=settings.flash_markup.replace(/{width}/g,m.width).replace(/{height}/g,m.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,filename+"?"+flash_vars);break;case"iframe":m=p(movie_width,movie_height),frame_url=pp_images[set_position],frame_url=frame_url.substr(0,frame_url.indexOf("iframe")-1),toInject=settings.iframe_markup.replace(/{width}/g,m.width).replace(/{height}/g,m.height).replace(/{path}/g,frame_url);break;case"ajax":doresize=!1,m=p(movie_width,movie_height),doresize=!0,skipInjection=!0,e.get(pp_images[set_position],function(e){toInject=settings.inline_markup.replace(/{content}/g,e),$pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject,o()});break;case"custom":m=p(movie_width,movie_height),toInject=settings.custom_markup;break;case"inline":myClone=e(pp_images[set_position]).clone().append('<br clear="all" />').css({width:settings.default_width}).wrapInner('<div id="pp_full_res"><div class="pp_inline"></div></div>').appendTo(e("body")).show(),doresize=!1,m=p(e(myClone).width(),e(myClone).height()),doresize=!0,e(myClone).remove(),toInject=settings.inline_markup.replace(/{content}/g,e(pp_images[set_position]).html())}imgPreloader||skipInjection||($pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject,o())}),!1},e.prettyPhoto.changePage=function(t){currentGalleryPage=0,"previous"==t?(set_position--,0>set_position&&(set_position=e(pp_images).size()-1)):"next"==t?(set_position++,set_position>e(pp_images).size()-1&&(set_position=0)):set_position=t,rel_index=set_position,doresize||(doresize=!0),e(".pp_contract").removeClass("pp_contract").addClass("pp_expand"),s(function(){e.prettyPhoto.open()})},e.prettyPhoto.changeGalleryPage=function(e){"next"==e?(currentGalleryPage++,currentGalleryPage>totalPage&&(currentGalleryPage=0)):"previous"==e?(currentGalleryPage--,0>currentGalleryPage&&(currentGalleryPage=totalPage)):currentGalleryPage=e,slide_speed="next"==e||"previous"==e?settings.animation_speed:0,slide_to=currentGalleryPage*itemsPerPage*itemWidth,$pp_gallery.find("ul").animate({left:-slide_to},slide_speed)},e.prettyPhoto.startSlideshow=function(){"undefined"==typeof k?($pp_pic_holder.find(".pp_play").unbind("click").removeClass("pp_play").addClass("pp_pause").click(function(){return e.prettyPhoto.stopSlideshow(),!1}),k=setInterval(e.prettyPhoto.startSlideshow,settings.slideshow)):e.prettyPhoto.changePage("next")},e.prettyPhoto.stopSlideshow=function(){$pp_pic_holder.find(".pp_pause").unbind("click").removeClass("pp_pause").addClass("pp_play").click(function(){return e.prettyPhoto.startSlideshow(),!1}),clearInterval(k),k=void 0},e.prettyPhoto.close=function(){$pp_overlay.is(":animated")||(e.prettyPhoto.stopSlideshow(),$pp_pic_holder.stop().find("object,embed").css("visibility","hidden"),e("div.pp_pic_holder,div.ppt,.pp_fade").fadeOut(settings.animation_speed,function(){e(this).remove()}),$pp_overlay.fadeOut(settings.animation_speed,function(){e.browser.msie&&6==e.browser.version&&e("select").css("visibility","visible"),settings.hideflash&&e("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","visible"),e(this).remove(),e(window).unbind("scroll.prettyphoto"),settings.callback(),doresize=!0,_=!1,delete settings}))},!pp_alreadyInitialized&&t()&&(pp_alreadyInitialized=!0,hashIndex=t(),hashRel=hashIndex,hashIndex=hashIndex.substring(hashIndex.indexOf("/")+1,hashIndex.length-1),hashRel=hashRel.substring(0,hashRel.indexOf("/")),setTimeout(function(){e("a[rel^='"+hashRel+"']:eq("+hashIndex+")").trigger("click")},50)),this.unbind("click.prettyphoto").bind("click.prettyphoto",e.prettyPhoto.initialize)}}(jQuery);var pp_alreadyInitialized=!1;