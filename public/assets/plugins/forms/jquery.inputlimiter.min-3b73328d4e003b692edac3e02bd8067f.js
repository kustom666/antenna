(function(t){t.fn.inputlimiter=function(e){var i=t.extend({},t.fn.inputlimiter.defaults,e);i.boxAttach&&!t("#"+i.boxId).length&&(t("<div/>").appendTo("body").attr({id:i.boxId,"class":i.boxClass}).css({position:"absolute"}).hide(),t.fn.bgiframe&&t("#"+i.boxId).bgiframe());var l=function(){!i.allowExceed&&t(this).val().length>i.limit&&t(this).val(t(this).val().substring(0,i.limit)),i.boxAttach&&t("#"+i.boxId).css({width:t(this).outerWidth()-(t("#"+i.boxId).outerWidth()-t("#"+i.boxId).width())+"px",left:t(this).offset().left+"px",top:t(this).offset().top+t(this).outerHeight()-1+"px","z-index":2e3});var e=i.limit-t(this).val().length,l=i.remTextFilter(i,e),r=i.limitTextFilter(i);if(i.limitTextShow){t("#"+i.boxId).html(l+" "+r);var n=t("<span/>").appendTo("body").attr({id:"19cc9195583bfae1fad88e19d443be7a","class":i.boxClass}).html(l+" "+r).innerWidth();t("#19cc9195583bfae1fad88e19d443be7a").remove(),n>t("#"+i.boxId).innerWidth()&&t("#"+i.boxId).html(l+"<br />"+r),t("#"+i.boxId).show()}else t("#"+i.boxId).html(l).show()},r=function(e){return!i.allowExceed&&(!e.keyCode||e.keyCode>46&&90>e.keyCode||13===e.keyCode)&&t(this).val().length>=i.limit?!1:void 0},n=function(){if(i.boxAttach)t("#"+i.boxId).fadeOut("fast");else if(i.remTextHideOnBlur){var e=i.limitText;e=e.replace(/\%n/g,i.limit),e=e.replace(/\%s/g,1===i.limit?"":"s"),t("#"+i.boxId).html(e)}};t(this).each(function(){t(this).bind("keyup",l),t(this).bind("keypress",r),t(this).bind("blur",n)})},t.fn.inputlimiter.remtextfilter=function(t,e){var i=t.remText;return 0===e&&null!==t.remFullText&&(i=t.remFullText),i=i.replace(/\%n/g,e),i=i.replace(/\%s/g,t.zeroPlural?1===e?"":"s":1>=e?"":"s")},t.fn.inputlimiter.limittextfilter=function(t){var e=t.limitText;return e=e.replace(/\%n/g,t.limit),e=e.replace(/\%s/g,1>=t.limit?"":"s")},t.fn.inputlimiter.defaults={limit:255,boxAttach:!0,boxId:"limiterBox",boxClass:"limiterBox",remText:"%n character%s remaining.",remTextFilter:t.fn.inputlimiter.remtextfilter,remTextHideOnBlur:!0,remFullText:null,limitTextShow:!0,limitText:"Field limited to %n character%s.",limitTextFilter:t.fn.inputlimiter.limittextfilter,zeroPlural:!0,allowExceed:!1}})(jQuery);