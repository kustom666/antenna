(function(t){var e="hidden",o="border-box",i="lineHeight",n='<textarea tabindex="-1" style="position:absolute; top:-9999px; left:-9999px; right:auto; bottom:auto; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden;"/>',s=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],r="oninput",a="onpropertychange",l=t(n)[0];l.setAttribute(r,"return"),t.isFunction(l[r])||a in l?(t(l).css(i,"99px"),"99px"===t(l).css(i)&&s.push(i),t.fn.autosize=function(i){return i=i||{},this.each(function(){function l(){var t,o,n;u||(u=!0,c.value=p.value,c.style.overflowY=p.style.overflowY,n=parseInt(p.style.height,10),c.style.width=d.css("width"),c.scrollTop=0,c.scrollTop=9e4,t=c.scrollTop,o=e,t>f?(t=f,o="scroll"):b>t&&(t=b),t+=x,p.style.overflowY=o,n!==t&&(p.style.height=t+"px",z&&i.callback.call(p)),setTimeout(function(){u=!1},1))}var c,u,h,p=this,d=t(p),b=d.height(),f=parseInt(d.css("maxHeight"),10),g=s.length,x=0,w=p.value,z=t.isFunction(i.callback);if((d.css("box-sizing")===o||d.css("-moz-box-sizing")===o||d.css("-webkit-box-sizing")===o)&&(x=d.outerHeight()-d.height()),!d.data("mirror")&&!d.data("ismirror")){for(c=t(n).data("ismirror",!0).addClass(i.className||"autosizejs")[0],h="none"===d.css("resize")?"none":"horizontal",d.data("mirror",t(c)).css({overflow:e,overflowY:e,wordWrap:"break-word",resize:h}),f=f&&f>0?f:9e4;g--;)c.style[s[g]]=d.css(s[g]);t("body").append(c),a in p?r in p?p[r]=p.onkeyup=l:p[a]=l:p[r]=l,t(window).resize(l),d.bind("autosize",l),p.value="",p.value=w,l()}})}):t.fn.autosize=function(){return this}})(jQuery);