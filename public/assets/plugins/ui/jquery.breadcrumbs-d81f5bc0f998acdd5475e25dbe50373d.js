/**
 * @author Jason Roy for CompareNetworks Inc.
 * Thanks to mikejbond for suggested udaptes
 *
 * Version 1.1
 * Copyright (c) 2009 CompareNetworks Inc.
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/mit-license.php
 *
 */
(function(e){function n(){u="object"==typeof jQuery.easing?"easeOutQuad":"swing",l=jQuery(d).find("li"),jQuery(d).find("ul").wrap('<div style="overflow:hidden; position:relative;  width: '+jQuery(d).css("width")+';"><div>'),jQuery(d).find("ul").width(5e3),l.length>0&&(jQuery(l[l.length-1]).addClass("lastB"),jQuery(l[0]).addClass("firstB"),l.length>o.minimumCompressionElements&&i())}function i(){var n=jQuery(l[l.length-1]);jQuery(n).width()>o.maxFinalElementLength&&(o.beginingElementsToLeaveOpen>0&&o.beginingElementsToLeaveOpen--,o.endElementsToLeaveOpen>0&&o.endElementsToLeaveOpen--),jQuery(n).width()<o.maxFinalElementLength&&jQuery(n).width()>o.minFinalElementLength&&o.beginingElementsToLeaveOpen>0&&o.beginingElementsToLeaveOpen--;var i=l.length-1-o.endElementsToLeaveOpen;jQuery(l[l.length-1]).css({background:"none"}),e(l).each(function(e,n){if(e>o.beginingElementsToLeaveOpen&&i>e){jQuery(n).find("a").wrap("<span></span>").width(jQuery(n).find("a").width()+5),jQuery(n).append(jQuery('<div class="'+o.overlayClass+'"></div>').css({display:"block"})).css({background:"none"}),r()&&s(jQuery(n).find("."+o.overlayClass).css({width:"20px",right:"-1px"}));var u={id:e,width:jQuery(n).width(),listElement:jQuery(n).find("span"),isAnimating:!1,element:jQuery(n).find("span")};jQuery(n).bind("mouseover",u,t).bind("mouseout",u,a),jQuery(n).find("a").unbind("mouseover",t).unbind("mouseout",a),n.autoInterval=setInterval(function(){clearInterval(n.autoInterval),jQuery(n).find("span").animate({width:o.previewWidth},o.timeInitialCollapse,o.easing)},150*(e-2))}})}function t(e){e.data.id;var n=e.data.width;return jQuery(e.data.element).stop(),jQuery(e.data.element).animate({width:n},{duration:o.timeExpansionAnimation,easing:o.easing,queue:!1}),!1}function a(e){return e.data.id,jQuery(e.data.element).stop(),jQuery(e.data.element).animate({width:o.previewWidth},{duration:o.timeCompressionAnimation,easing:o.easing,queue:!1}),!1}function r(){var n=e.browser.msie&&/MSIE\s(5\.5|6\.)/.test(navigator.userAgent);return n}function s(n){var i;jQuery(n).is("img")?i=jQuery(n).attr("src"):(i=e(n).css("backgroundImage"),i.match(/^url\(["']?(.*\.png)["']?\)$/i),i=RegExp.$1),e(n).css({backgroundImage:"none",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=scale, src='"+i+"')"})}var u,o={},d={},l={};jQuery.fn.jBreadCrumb=function(i){return o=e.extend({},e.fn.jBreadCrumb.defaults,i),this.each(function(){d=e(this),n()})},jQuery.fn.jBreadCrumb.defaults={maxFinalElementLength:400,minFinalElementLength:200,minimumCompressionElements:4,endElementsToLeaveOpen:1,beginingElementsToLeaveOpen:1,timeExpansionAnimation:100,timeCompressionAnimation:100,timeInitialCollapse:200,easing:u,overlayClass:"chevronOverlay",previewWidth:10}})(jQuery);